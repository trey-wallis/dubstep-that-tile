(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{17:function(e,t,i){},29:function(e,t,i){e.exports=i.p+"static/media/white-tile.50c05c66.svg"},30:function(e,t,i){e.exports=i.p+"static/media/black-tile.0bf5de19.svg"},31:function(e,t,i){e.exports=i.p+"static/media/yellow-tile.03ed92f1.svg"},32:function(e,t,i){e.exports=i(85)},37:function(e,t,i){},41:function(e,t,i){},43:function(e,t,i){},53:function(e,t){},85:function(e,t,i){"use strict";i.r(t);var a=i(0),n=i.n(a),s=i(8),l=i.n(s),r=(i(37),i(1)),c=i(2),o=i(5),u=i(4),m=i(6),f=n.a.createContext(),h=i(11),d=(i(17),function(e){function t(){return Object(r.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.ui;e.domain;return n.a.createElement("div",{className:"Title"},t.loginHeader,t.title,n.a.createElement("div",{className:"Title__subtitle pt2 tc f2-ns f3 fw3"},"The Ultimate Musical Challenge"),n.a.createElement("ul",{className:"list pl0 tc"},n.a.createElement("li",{className:"pa3-ns pa2 f3-ns f4 grow hover--2",onClick:function(){t.setRoute("play")}},"Play"),n.a.createElement("li",{className:"pa3-ns pa2 f3-ns f4 grow hover--2",onClick:function(){t.setRoute("options")}},"Options"),n.a.createElement("li",{className:"pa3-ns pa2 f3-ns f4 grow hover--2",onClick:function(){t.setRoute("scores")}},"Scores"),n.a.createElement("li",{className:"pa3-ns pa2 f3-ns f4 grow hover--2",onClick:function(){t.setRoute("statistics")}},"Statistics"),n.a.createElement("li",{className:"pa3-ns pa2 f3-ns f4 grow hover--2",onClick:function(){t.setRoute("about")}},"About")))}}]),t}(a.Component)),v=function(e){function t(){return Object(r.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.ui;e.domain;return n.a.createElement("div",{className:"Register h-100 relative flex justify-center"},n.a.createElement("button",{className:"absolute bottom-2 bg-color--empty outline--none bw0 dim f3",onClick:function(){t.setRoute("title")}},"Back"))}}]),t}(a.Component),b=function(e){function t(){return Object(r.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.ui;e.domain;return n.a.createElement("div",{className:"Login h-100 relative flex justify-center"},n.a.createElement("button",{className:"absolute bottom-2 bg-color--empty outline--none bw0 dim f3",onClick:function(){t.setRoute("title")}},"Back"))}}]),t}(a.Component),p=function(e){function t(){return Object(r.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.ui;e.domain;return n.a.createElement("div",{className:"About"},t.loginHeader,t.title,n.a.createElement("div",{className:"About__instructions pa3"},n.a.createElement("div",{className:"About__instructions-title tc b mb1 f4-ns f5"},"Instructions"),n.a.createElement("div",{className:"About__instructions-body tc f5-ns f6"},"Navigate through 50 black tiles using ASDF without stepping on a white tile")),n.a.createElement("div",{className:"About__scoring pa3"},n.a.createElement("div",{className:"About__scoring-title tc b mb1 f4-ns f5"},"Scoring"),n.a.createElement("div",{className:"About__scoring-body tc f5-ns f6"},"Your score is determined by how fast you can traverse the tiles")),n.a.createElement("div",{className:"Copyright pa3"},n.a.createElement("div",{className:"Copyright__name tc b mb1 f4-ns f5"},"Made by Trey Wallis",n.a.createElement("div",{className:"f6 mt2"},"Contributions by James Reis")),n.a.createElement("div",{className:"Version tc f5-ns f6"},"1.0.0")),t.backButton)}}]),t}(a.Component),g=(i(41),function(e){function t(){return Object(r.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.input.focus()}},{key:"render",value:function(){var e=this,t=this.props,i=(t.ui,t.domain,t.level);return n.a.createElement("div",{className:"Play",onKeyPress:function(e){i.handleKeyPress(e.charCode)},tabIndex:"0",ref:function(t){return e.input=t}},n.a.createElement("div",{className:"Play__background flex flex-wrap"},i.gameTiles),n.a.createElement("div",{className:"Play__timer"},n.a.createElement("div",{className:"Play__timer-text tr mt2 f3 dark-red"},i.time)))}}]),t}(a.Component)),y=Object(h.b)(g),k=function(e){function t(){return Object(r.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.ui,i=(e.domain,e.level);return n.a.createElement("div",{className:"GameOver"},t.loginHeader,t.title,i.wonGame?n.a.createElement("div",{className:"GameOver__text"},n.a.createElement("div",{className:"GameOver__first mt5 tc f3-ns f4"},"Congrats"),n.a.createElement("div",{className:"GameOver__second mt3 tc f2-ns f3 b"},i.lastTime,"s"),n.a.createElement("div",{className:"GameOver__third tc f3-ns f4 b"},i.tilesPerSecond," tiles per second ",n.a.createElement("br",null),i.traversed," tile",1===i.traversed?"":"s"," traversed")):n.a.createElement("div",{className:"GameOver__text"},n.a.createElement("div",{className:"GameOver__first mt5 tc f3-ns f4 b"},"Failure",n.a.createElement("br",null)," Better luck next time"),n.a.createElement("div",{className:"GameOver__score mt3 tc f4-ns f5"},"You survived ",i.lastTime,"s ",n.a.createElement("br",null),"and traversed ",i.traversed," tile",1===i.traversed?"":"s")),t.retryButton,t.backButton)}}]),t}(a.Component),O=function(e){function t(){return Object(r.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.ui,i=(e.domain,e.level);return n.a.createElement("div",{className:"Options"},n.a.createElement("div",{className:"Options__title tc f2-ns f3 b mt5"},"Options"),n.a.createElement("ul",{className:"f4 list mt3"},n.a.createElement("li",{className:"mode-select tc"},"Mode",n.a.createElement("select",{id:"mode",name:"Mode",className:"ml2 h2 bg-color--black-t1 bn outline--none tlc dropdown-none",onChange:function(){var e=document.getElementById("mode").value;"inf"!=e?i.setLevel(parseInt(e)):i.setLevel(1/0)}},i.modeSelect)),n.a.createElement("li",{className:"mode-select color--1a f6 tc"},"This is how many tiles you will have to traverse to reach the end")),t.backButton)}}]),t}(a.Component),T=function(e){function t(){return Object(r.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.ui;e.domain;return n.a.createElement("div",{className:"Score"},t.backButton)}}]),t}(a.Component),E=function(e){function t(){return Object(r.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.ui,i=(e.domain,e.level);return n.a.createElement("div",{className:"Statistics"},n.a.createElement("div",{className:"Statistics__title tc f2-ns f3 b mt5"},"Statistics"),n.a.createElement("ul",{className:"Statistics__label list p01 dib list--ml0"},n.a.createElement("li",{className:"f4-ns f5 mb2"},"Total Tiles Traversed"),n.a.createElement("li",{className:"f4-ns f5 mb2"},"Black Tiles Traversed"),n.a.createElement("li",{className:"f4-ns f5 mb2"},"White Tiles Tapped"),n.a.createElement("li",{className:"f4-ns f5 mb2"},"Games Played"),n.a.createElement("li",{className:"f4-ns f5 mb2"},"Games Completed")),n.a.createElement("ul",{className:"Statistics__stat list p01 dib ml4"},n.a.createElement("li",{className:"f4-ns f5 b mb2"},i.totalTiles),n.a.createElement("li",{className:"f4-ns f5 b mb2"},i.totalBlackTiles),n.a.createElement("li",{className:"f4-ns f5 b mb2"},i.totalWhiteTiles),n.a.createElement("li",{className:"f4-ns f5 b mb2"},i.totalPlayedGames),n.a.createElement("li",{className:"f4-ns f5 b mb2"},i.totalCompletedGames)),t.backButton)}}]),t}(a.Component),w=(i(43),function(e){function t(){return Object(r.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{className:"ViewLayer"},n.a.createElement(f.Consumer,null,function(e){return n.a.createElement(h.a,null,function(){switch(e.ui.route){case"register":return n.a.createElement(v,{ui:e.ui});case"login":return n.a.createElement(b,{ui:e.ui});case"scores":return n.a.createElement(T,{ui:e.ui,level:e.level});case"statistics":return n.a.createElement(E,{ui:e.ui,level:e.level});case"options":return n.a.createElement(O,{ui:e.ui,level:e.level});case"about":return n.a.createElement(p,{ui:e.ui});case"gameover":return n.a.createElement(k,{ui:e.ui,level:e.level});case"play":return n.a.createElement(y,{ui:e.ui,level:e.level});default:return n.a.createElement(d,{ui:e.ui})}})}))}}]),t}(a.Component)),j=function(e){function t(){return Object(r.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return window.appprops=this.props,n.a.createElement("div",{className:"App vw-100 vh-100 flex justify-center items-center"},n.a.createElement(w,null))}}]),t}(a.Component),N=i(28),C=i.n(N),S=i(3),_=i(29),R=i.n(_),B=i(30),G=i.n(B),P=i(31),x=i.n(P),L={id:1,svg:R.a},Y={id:2,svg:G.a},A={id:0,svg:x.a},M=50,W=function(){function e(){Object(r.a)(this,e),this.startTime=0,this.currentTime=0,this.isRunning=!1,this.lastTime=0}return Object(c.a)(e,[{key:"start",value:function(){this.startTime=(new Date).getTime(),this.isRunning=!0,this.measure()}},{key:"measure",value:function(){var e=this;this.isRunning&&(this.currentTime=(new Date).getTime(),setTimeout(function(){return e.measure()},10))}},{key:"stop",value:function(){this.isRunning=!1}},{key:"reset",value:function(){this.lastTime=this.elapsed,this.startTime=0,this.currentTime=0}},{key:"elapsed",get:function(){return this.currentTime-this.startTime}},{key:"displayElapsed",get:function(){return(this.elapsed/1e3).toFixed(3)}},{key:"displayLastTime",get:function(){return(this.lastTime/1e3).toFixed(3)}}]),e}(),F=W;Object(S.g)(W,{currentTime:S.l,startTime:S.l,displayElapsed:S.d});var H=function(){function e(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:M;Object(r.a)(this,e),this.levelStore=t,this.numTilesY=i+4,this.tiles=[],this.filteredTiles=[],this.tileOffsetY=0,this.initializeTiles()}return Object(c.a)(e,[{key:"random",value:function(e,t){return Math.floor(Math.random()*(t-e+1))+e}},{key:"initializeTiles",value:function(){for(var e=0;e<this.numTilesY;e++)for(var t=this.random(1,4),i=!1,a=0,n=0;n<4;n++){a++;var s=L.id;0===e||e===this.numTilesY-5?s=A.id:!i&&a===t&&e<this.numTilesY-5&&(s=Y.id,i=!0),this.tiles[n+4*e]=s}}},{key:"getRenderTile",value:function(e){return this.filteredTiles[e]}},{key:"increaseTileOffset",value:function(){this.tileOffsetY++}},{key:"reset",value:function(){this.tileOffsetY=0,this.initializeTiles()}},{key:"filterTiles",get:function(){var e=this;return this.filteredTiles=this.tiles.filter(function(t,i){var a=4*e.tileOffset,n=4*(e.tileOffset+4)-1;return i>=a&&i<=n}),this.filteredTiles.reverse().map(function(t,i){switch(t){case L.id:return n.a.createElement("img",{key:i,id:"white-"+i,className:"Tile",src:L.svg,onClick:function(t){e.levelStore.handleClick(t)},alt:"white"});case Y.id:return n.a.createElement("img",{key:i,id:"black-"+i,className:"Tile",src:Y.svg,onClick:function(t){e.levelStore.handleClick(t)},alt:"black"});default:return n.a.createElement("img",{key:i,id:"yellow-"+i,className:"Tile",src:A.svg,onClick:function(t){e.levelStore.handleClick(t)},alt:"yellow"})}})}},{key:"tileOffset",get:function(){return this.tileOffsetY}},{key:"gameSize",get:function(){return this.numTilesY}}]),e}(),z=H;Object(S.g)(H,{tileOffsetY:S.l,filterTiles:S.d});var I=function(){function e(){Object(r.a)(this,e),this.whiteTiles=0,this.blackTiles=0,this.gamesPlayed=0,this.gamesCompleted=0;try{this.loadStatsFromStorage()}catch(t){console.log(t.message)}}return Object(c.a)(e,[{key:"increaseWhiteTile",value:function(){this.whiteTiles++}},{key:"increaseBlackTiles",value:function(e){this.blackTiles+=e}},{key:"playedGame",value:function(){this.gamesPlayed++}},{key:"completedGame",value:function(){this.gamesCompleted++}},{key:"loadStatsFromStorage",value:function(){if("undefined"===typeof Storage)throw Error("No HTML5 web storage found on browser");var e=window.localStorage;if(e.stats){var t=JSON.parse(e.stats);this.whiteTiles=t.whiteTiles,this.blackTiles=t.blackTiles,this.gamesPlayed=t.gamesPlayed,this.gamesCompleted=t.gamesCompleted}}},{key:"saveStatsToStorage",value:function(){if("undefined"===typeof Storage)throw Error("No HTML5 web storage found on browser");var e=window.localStorage,t={whiteTiles:this.whiteTiles,blackTiles:this.blackTiles,gamesPlayed:this.gamesPlayed,gamesCompleted:this.gamesCompleted};e.stats=JSON.stringify(t)}},{key:"white",get:function(){return this.whiteTiles}},{key:"black",get:function(){return this.blackTiles}},{key:"games",get:function(){return this.gamesPlayed}},{key:"completed",get:function(){return this.gamesCompleted}}]),e}(),K=function(){function e(t){Object(r.a)(this,e),this.root=t,this.gameStarted=!1,this.wonGame=!1,this.timer=new F,this.level=new z(this),this.statistics=new I,this.traversed=0,this.selectedTiles=0}return Object(c.a)(e,[{key:"handleKeyPress",value:function(e){97!==e&&115!==e&&100!==e&&102!==e||(this.gameStarted||(this.timer.start(),this.gameStarted=!0),this.checkLoseKey(e)?this.lose():(this.level.increaseTileOffset(),this.level.tileOffset===this.level.gameSize-4&&this.win()))}},{key:"handleClick",value:function(e){this.gameStarted||(this.timer.start(),this.gameStarted=!0),this.validClick(e.target.id)&&(this.checkLoseMouse(e.target.id)?this.lose():(this.level.increaseTileOffset(),this.level.tileOffset===this.level.gameSize-4&&this.win()))}},{key:"checkLoseMouse",value:function(e){return!!e.startsWith("white")}},{key:"validClick",value:function(e){return!!(e.includes("12")||e.includes("13")||e.includes("14")||e.includes("15"))}},{key:"checkLoseKey",value:function(e){switch(e){case 97:return this.level.getRenderTile(12)===L.id;case 115:return this.level.getRenderTile(13)===L.id;case 100:return this.level.getRenderTile(14)===L.id;case 102:return this.level.getRenderTile(15)===L.id;default:console.log("Key pressed",e)}}},{key:"win",value:function(){this.traversed=this.level.tileOffset,this.statistics.playedGame(),this.statistics.completedGame(),this.statistics.increaseBlackTiles(this.traversed),this.reset(),this.wonGame=!0,this.root.ui.setRoute("gameover")}},{key:"lose",value:function(){this.traversed=this.level.tileOffset,this.statistics.playedGame(),this.statistics.increaseWhiteTile(),this.statistics.increaseBlackTiles(this.traversed),this.reset(),this.root.ui.setRoute("gameover")}},{key:"reset",value:function(){this.statistics.saveStatsToStorage(),this.timer.stop(),this.timer.reset(),this.level.reset(),this.gameStarted=!1,this.wonGame=!1}},{key:"setLevel",value:function(e){this.selectedTiles=e,this.level=new z(this,e)}},{key:"gameTiles",get:function(){return this.level.filterTiles}},{key:"time",get:function(){return"".concat(this.timer.displayElapsed,"s")}},{key:"lastTime",get:function(){return this.timer.displayLastTime}},{key:"tilesPerSecond",get:function(){return(this.traversed/this.lastTime).toFixed(3)}},{key:"totalWhiteTiles",get:function(){return this.statistics.white}},{key:"totalBlackTiles",get:function(){return this.statistics.black}},{key:"totalTiles",get:function(){return this.statistics.black+this.statistics.white}},{key:"totalCompletedGames",get:function(){return this.statistics.completed}},{key:"totalPlayedGames",get:function(){return this.statistics.games}},{key:"averageTilesPerSecond",get:function(){return this.statistics.averageTiles}},{key:"modeSelect",get:function(){for(var e=['<option value="10">10</option>','<option value="50">50</option>','<option value="100">100</option>','<option value="200">200</option>','<option value="1000">1000</option>','<option value="5000">Infinite (5000)</option>'],t=[],i=0;i<e.length;i++)e[i].includes('value="'+this.selectedTiles+'"')&&(console.log(e[i]),e[i]=e[i].replace("value","selected value")),t.push(C()(e[i]));return t}}]),e}();Object(S.g)(K,{});var D=K,J=function(){function e(t){Object(r.a)(this,e),this.root=t,this.route="title"}return Object(c.a)(e,[{key:"setRoute",value:function(e){this.route=e}},{key:"title",get:function(){return n.a.createElement("div",{className:"Title tc f1-ns f2 fw6 b"},"Dubstep That Tile")}},{key:"loginHeader",get:function(){var e=this;return n.a.createElement("header",{className:"LoginHeader pr2 mb4 tr"},n.a.createElement("button",{className:"p2 mr1 dim bw0 f4-ns f5 bg-color--none outline--none",onClick:function(){e.root.ui.setRoute("login")}},"Login"),n.a.createElement("button",{className:"p2 dim f4-ns f5 bw0 bg-color--none outline--none",onClick:function(){e.root.ui.setRoute("register")}},"Register"))}},{key:"backButton",get:function(){var e=this;return n.a.createElement("div",{className:"BackButton flex justify-center"},n.a.createElement("button",{className:"mt5 bg-color--none outline--none bw0 dim f4-ns f5",onClick:function(){e.root.ui.setRoute("title")}},"Back"))}},{key:"retryButton",get:function(){var e=this;return n.a.createElement("div",{className:"RetryButton flex justify-center"},n.a.createElement("button",{className:"mt5 bg-color--none outline--none bw0 dim f4-ns f5",onClick:function(){e.root.ui.setRoute("play")}},"Retry"))}}]),e}();Object(S.g)(J,{route:S.l});var V=J,U=function e(t){Object(r.a)(this,e),this.root=t};Object(S.g)(U,{data:S.l});var $=U,q=function(){function e(){Object(r.a)(this,e),this.levelStore=new D(this),this.uiStore=new V(this),this.domainStore=new $(this)}return Object(c.a)(e,[{key:"level",get:function(){return this.levelStore}},{key:"ui",get:function(){return this.uiStore}},{key:"domain",get:function(){return this.domainStore}}]),e}(),Q=window.root=new q,X=function(e){function t(){var e,i;Object(r.a)(this,t);for(var a=arguments.length,n=new Array(a),s=0;s<a;s++)n[s]=arguments[s];return(i=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(n)))).state={ui:Q.ui,domain:Q.domain,level:Q.level},i}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return n.a.createElement(f.Provider,{value:this.state},this.props.children)}}]),t}(a.Component);i(83),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(n.a.createElement(X,null,n.a.createElement(j,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[32,2,1]]]);
//# sourceMappingURL=main.657d2a07.chunk.js.map