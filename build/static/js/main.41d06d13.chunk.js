(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{28:function(e,t,n){e.exports=n.p+"static/media/white-tile.50c05c66.svg"},29:function(e,t,n){e.exports=n.p+"static/media/black-tile.0bf5de19.svg"},30:function(e,t,n){e.exports=n.p+"static/media/yellow-tile.03ed92f1.svg"},31:function(e,t,n){e.exports=n(85)},36:function(e,t,n){},39:function(e,t,n){},41:function(e,t,n){},43:function(e,t,n){},53:function(e,t){},85:function(e,t,n){"use strict";n.r(t);var i=n(0),a=n.n(i),s=n(8),r=n.n(s),l=(n(36),n(1)),o=n(2),c=n(5),u=n(4),m=n(6),f=a.a.createContext(),h=n(11),d=(n(39),function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props,t=e.ui;e.domain;return a.a.createElement("div",{className:"Title"},t.loginHeader,t.title,a.a.createElement("div",{className:"Title__subtitle pt2 tc f2-ns f3 fw3"},"The Ultimate Musical Challenge"),a.a.createElement("ul",{className:"list pl0 tc"},a.a.createElement("li",{className:"pa3-ns pa2 f3-ns f4 grow hover--2",onClick:function(){t.setRoute("play")}},"Play"),a.a.createElement("li",{className:"pa3-ns pa2 f3-ns f4 grow hover--2",onClick:function(){t.setRoute("options")}},"Options"),a.a.createElement("li",{className:"pa3-ns pa2 f3-ns f4 grow hover--2",onClick:function(){t.setRoute("scores")}},"Scores"),a.a.createElement("li",{className:"pa3-ns pa2 f3-ns f4 grow hover--2",onClick:function(){t.setRoute("statistics")}},"Statistics"),a.a.createElement("li",{className:"pa3-ns pa2 f3-ns f4 grow hover--2",onClick:function(){t.setRoute("about")}},"About")))}}]),t}(i.Component)),v=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props,t=e.ui;e.domain;return a.a.createElement("div",{className:"Register h-100 relative flex justify-center"},a.a.createElement("button",{className:"absolute bottom-2 bg-color--empty outline--none bw0 dim f3",onClick:function(){t.setRoute("title")}},"Back"))}}]),t}(i.Component),b=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props,t=e.ui;e.domain;return a.a.createElement("div",{className:"Login h-100 relative flex justify-center"},a.a.createElement("button",{className:"absolute bottom-2 bg-color--empty outline--none bw0 dim f3",onClick:function(){t.setRoute("title")}},"Back"))}}]),t}(i.Component),p=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props,t=e.ui;e.domain;return a.a.createElement("div",{className:"About"},t.loginHeader,t.title,a.a.createElement("div",{className:"About__instructions pa3"},a.a.createElement("div",{className:"About__instructions-title tc b mb1 f4-ns f5"},"Instructions"),a.a.createElement("div",{className:"About__instructions-body tc f5-ns f6"},"Navigate through 50 black tiles using ASDF without stepping on a white tile")),a.a.createElement("div",{className:"About__scoring pa3"},a.a.createElement("div",{className:"About__scoring-title tc b mb1 f4-ns f5"},"Scoring"),a.a.createElement("div",{className:"About__scoring-body tc f5-ns f6"},"Your score is determined by how fast you can traverse the tiles")),a.a.createElement("div",{className:"Copyright pa3"},a.a.createElement("div",{className:"Copyright__name tc b mb1 f4-ns f5"},"Made by Trey Wallis"),a.a.createElement("div",{className:"Version tc f5-ns f6"},"1.0.0")),t.backButton)}}]),t}(i.Component),y=(n(41),function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.input.focus()}},{key:"render",value:function(){var e=this,t=this.props,n=(t.ui,t.domain,t.level);return a.a.createElement("div",{className:"Play",onKeyPress:function(e){n.handleKeyPress(e.charCode)},tabIndex:"0",ref:function(t){return e.input=t}},a.a.createElement("div",{className:"Play__background flex flex-wrap"},n.gameTiles),a.a.createElement("div",{className:"Play__timer"},a.a.createElement("div",{className:"Play__timer-text tr mt2 f3 dark-red"},n.time)))}}]),t}(i.Component)),g=Object(h.b)(y),O=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props,t=e.ui,n=(e.domain,e.level);return a.a.createElement("div",{className:"GameOver"},t.loginHeader,t.title,n.wonGame?a.a.createElement("div",{className:"GameOver__text"},a.a.createElement("div",{className:"GameOver__first mt5 tc f3-ns f4"},"Congrats"),a.a.createElement("div",{className:"GameOver__second mt3 tc f2-ns f3 b"},n.lastTime,"s"),a.a.createElement("div",{className:"GameOver__third tc f3-ns f4 b"},n.tilesPerSecond," tiles per second ",a.a.createElement("br",null),n.traversed," tile",1===n.traversed?"":"s"," traversed")):a.a.createElement("div",{className:"GameOver__text"},a.a.createElement("div",{className:"GameOver__first mt5 tc f3-ns f4 b"},"Failure",a.a.createElement("br",null)," Better luck next time"),a.a.createElement("div",{className:"GameOver__score mt3 tc f4-ns f5"},"You survived ",n.lastTime,"s ",a.a.createElement("br",null),"and traversed ",n.traversed," tile",1===n.traversed?"":"s")),t.retryButton,t.backButton)}}]),t}(i.Component),k=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props,t=e.ui,n=(e.domain,e.level);return a.a.createElement("div",{className:"Options h-100 relative flex justify-center"},a.a.createElement("ul",{className:"f4 list mt6"},a.a.createElement("li",{className:"mode-select tc"},"Mode:",a.a.createElement("select",{id:"mode",name:"Mode",className:"ml2 h2 bg-color--black-t1 bn outline--none tlc dropdown-none",onChange:function(){var e=document.getElementById("mode").value;"inf"!=e?n.setLevel(parseInt(e)):n.setLevel(1/0)}},n.modeSelect)),a.a.createElement("li",{className:"mode-select color--1a f6 tc"},"This is how many tiles you will have to traverse to reach the end")),a.a.createElement("button",{className:"absolute bottom-2 bg-color--none color-b outline--none bw0 dim f3",onClick:function(){t.setRoute("title")}},"Back"))}}]),t}(i.Component),j=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props,t=e.ui;e.domain;return a.a.createElement("div",{className:"Score h-100 relative flex justify-center"},a.a.createElement("button",{className:"absolute bottom-2 bg-color--empty outline--none bw0 dim f3",onClick:function(){t.setRoute("title")}},"Back"))}}]),t}(i.Component),E=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props,t=e.ui;e.domain;return a.a.createElement("div",{className:"Statistics h-100 relative flex justify-center"},a.a.createElement("button",{className:"absolute bottom-2 bg-color--empty outline--none bw0 dim f3",onClick:function(){t.setRoute("title")}},"Back"))}}]),t}(i.Component),w=(n(43),function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return a.a.createElement("div",{className:"ViewLayer"},a.a.createElement(f.Consumer,null,function(e){return a.a.createElement(h.a,null,function(){switch(e.ui.route){case"register":return a.a.createElement(v,{ui:e.ui});case"login":return a.a.createElement(b,{ui:e.ui});case"scores":return a.a.createElement(j,{ui:e.ui,level:e.level});case"statistics":return a.a.createElement(E,{ui:e.ui});case"options":return a.a.createElement(k,{ui:e.ui,level:e.level});case"about":return a.a.createElement(p,{ui:e.ui});case"gameover":return a.a.createElement(O,{ui:e.ui,level:e.level});case"play":return a.a.createElement(g,{ui:e.ui,level:e.level});default:return a.a.createElement(d,{ui:e.ui})}})}))}}]),t}(i.Component)),T=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return window.appprops=this.props,a.a.createElement("div",{className:"App vw-100 vh-100 flex justify-center items-center"},a.a.createElement(w,null))}}]),t}(i.Component),N=n(27),C=n.n(N),_=n(3),R=n(28),S=n.n(R),x=n(29),B=n.n(x),L=n(30),G=n.n(L),Y={id:1,svg:S.a},A={id:2,svg:B.a},P={id:0,svg:G.a},M=50,z=function(){function e(){Object(l.a)(this,e),this.startTime=0,this.currentTime=0,this.isRunning=!1,this.lastTime=0}return Object(o.a)(e,[{key:"start",value:function(){this.startTime=(new Date).getTime(),this.isRunning=!0,this.measure()}},{key:"measure",value:function(){var e=this;this.isRunning&&(this.currentTime=(new Date).getTime(),setTimeout(function(){return e.measure()},10))}},{key:"stop",value:function(){this.isRunning=!1}},{key:"reset",value:function(){this.lastTime=this.elapsed,this.startTime=0,this.currentTime=0}},{key:"elapsed",get:function(){return this.currentTime-this.startTime}},{key:"displayElapsed",get:function(){return(this.elapsed/1e3).toFixed(3)}},{key:"displayLastTime",get:function(){return(this.lastTime/1e3).toFixed(3)}}]),e}(),I=z;Object(_.g)(z,{currentTime:_.l,startTime:_.l,displayElapsed:_.d});var K=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:M;Object(l.a)(this,e),this.levelStore=t,this.numTilesY=n+4,this.tiles=[],this.filteredTiles=[],this.tileOffsetY=0,this.initializeTiles()}return Object(o.a)(e,[{key:"random",value:function(e,t){return Math.floor(Math.random()*(t-e+1))+e}},{key:"initializeTiles",value:function(){for(var e=0;e<this.numTilesY;e++)for(var t=this.random(1,4),n=!1,i=0,a=0;a<4;a++){i++;var s=Y.id;0===e||e===this.numTilesY-5?s=P.id:!n&&i===t&&e<this.numTilesY-5&&(s=A.id,n=!0),this.tiles[a+4*e]=s}}},{key:"getRenderTile",value:function(e){return this.filteredTiles[e]}},{key:"increaseTileOffset",value:function(){this.tileOffsetY++}},{key:"reset",value:function(){this.tileOffsetY=0,this.initializeTiles()}},{key:"filterTiles",get:function(){var e=this;return this.filteredTiles=this.tiles.filter(function(t,n){var i=4*e.tileOffset,a=4*(e.tileOffset+4)-1;return n>=i&&n<=a}),this.filteredTiles.reverse().map(function(t,n){switch(t){case Y.id:return a.a.createElement("img",{key:n,id:"white-"+n,className:"Tile",src:Y.svg,onClick:function(t){e.levelStore.handleClick(t)},alt:"white"});case A.id:return a.a.createElement("img",{key:n,id:"black-"+n,className:"Tile",src:A.svg,onClick:function(t){e.levelStore.handleClick(t)},alt:"black"});default:return a.a.createElement("img",{key:n,id:"yellow-"+n,className:"Tile",src:P.svg,onClick:function(t){e.levelStore.handleClick(t)},alt:"yellow"})}})}},{key:"tileOffset",get:function(){return this.tileOffsetY}},{key:"gameSize",get:function(){return this.numTilesY}}]),e}(),D=K;Object(_.g)(K,{tileOffsetY:_.l,filterTiles:_.d});var F=function(){function e(t){Object(l.a)(this,e),this.root=t,this.gameStarted=!1,this.wonGame=!1,this.timer=new I,this.level=new D(this),this.traversed=0,this.selectedTiles=0}return Object(o.a)(e,[{key:"handleKeyPress",value:function(e){97!==e&&115!==e&&100!==e&&102!==e||(this.gameStarted||(this.timer.start(),this.gameStarted=!0),this.checkLoseKey(e)?this.lose():(this.level.increaseTileOffset(),this.level.tileOffset===this.level.gameSize-4&&this.win()))}},{key:"handleClick",value:function(e){this.gameStarted||(this.timer.start(),this.gameStarted=!0),this.checkLoseMouse(e.target.id)?this.lose():(this.level.increaseTileOffset(),this.level.tileOffset===this.level.gameSize-4&&this.win())}},{key:"checkLoseMouse",value:function(e){return!!e.startsWith("white")}},{key:"checkLoseKey",value:function(e){switch(e){case 97:return this.level.getRenderTile(12)===Y.id;case 115:return this.level.getRenderTile(13)===Y.id;case 100:return this.level.getRenderTile(14)===Y.id;case 102:return this.level.getRenderTile(15)===Y.id;default:console.log("Key pressed",e)}}},{key:"win",value:function(){this.traversed=this.level.tileOffset,this.reset(),this.root.ui.setRoute("gameover"),this.wonGame=!0}},{key:"lose",value:function(){this.traversed=this.level.tileOffset,this.reset(),this.root.ui.setRoute("gameover")}},{key:"reset",value:function(){this.timer.stop(),this.timer.reset(),this.level.reset(),this.gameStarted=!1,this.wonGame=!1}},{key:"setLevel",value:function(e){this.selectedTiles=e,this.level=new D(this,e)}},{key:"gameTiles",get:function(){return this.level.filterTiles}},{key:"time",get:function(){return"".concat(this.timer.displayElapsed,"s")}},{key:"lastTime",get:function(){return this.timer.displayLastTime}},{key:"tilesPerSecond",get:function(){return(this.traversed/this.lastTime).toFixed(3)}},{key:"modeSelect",get:function(){for(var e=['<option value="10">10</option>','<option value="50">50</option>','<option value="100">100</option>','<option value="200">200</option>','<option value="1000">1000</option>','<option value="5000">Infinite (5000)</option>'],t=[],n=0;n<e.length;n++)e[n].includes('value="'+this.selectedTiles+'"')&&(console.log(e[n]),e[n]=e[n].replace("value","selected value")),t.push(C()(e[n]));return t}}]),e}();Object(_.g)(F,{});var H=F,W=function(){function e(t){Object(l.a)(this,e),this.root=t,this.route="title"}return Object(o.a)(e,[{key:"setRoute",value:function(e){this.route=e}},{key:"title",get:function(){return a.a.createElement("div",{className:"Title tc f1-ns f2 fw6 b"},"Dubstep That Tile")}},{key:"loginHeader",get:function(){var e=this;return a.a.createElement("header",{className:"LoginHeader pr2 mb4 tr"},a.a.createElement("button",{className:"p2 mr1 dim bw0 f4-ns f5 bg-color--none outline--none",onClick:function(){e.root.ui.setRoute("login")}},"Login"),a.a.createElement("button",{className:"p2 dim f4-ns f5 bw0 bg-color--none outline--none",onClick:function(){e.root.ui.setRoute("register")}},"Register"))}},{key:"backButton",get:function(){var e=this;return a.a.createElement("div",{className:"BackButton flex justify-center"},a.a.createElement("button",{className:"mt5 bg-color--none outline--none bw0 dim f4-ns f5",onClick:function(){e.root.ui.setRoute("title")}},"Back"))}},{key:"retryButton",get:function(){var e=this;return a.a.createElement("div",{className:"RetryButton flex justify-center"},a.a.createElement("button",{className:"mt5 bg-color--none outline--none bw0 dim f4-ns f5",onClick:function(){e.root.ui.setRoute("play")}},"Retry"))}}]),e}();Object(_.g)(W,{route:_.l});var J=W,V=function e(t){Object(l.a)(this,e),this.root=t};Object(_.g)(V,{data:_.l});var U=V,$=function(){function e(){Object(l.a)(this,e),this.levelStore=new H(this),this.uiStore=new J(this),this.domainStore=new U(this)}return Object(o.a)(e,[{key:"level",get:function(){return this.levelStore}},{key:"ui",get:function(){return this.uiStore}},{key:"domain",get:function(){return this.domainStore}}]),e}(),q=window.root=new $,Q=function(e){function t(){var e,n;Object(l.a)(this,t);for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return(n=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(a)))).state={ui:q.ui,domain:q.domain,level:q.level},n}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return a.a.createElement(f.Provider,{value:this.state},this.props.children)}}]),t}(i.Component);n(83),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(a.a.createElement(Q,null,a.a.createElement(T,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[31,2,1]]]);
//# sourceMappingURL=main.41d06d13.chunk.js.map